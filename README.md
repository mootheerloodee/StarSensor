## 1. Общее описание


StarSensor — программный модуль для анализа изображений звёздного неба, включающее фильтрацию, разметку и идентификацию звёзд на снимке.
Проект реализован на C++ с использованием фреймворка Qt 6 (совместим с Qt 5), предназначен для работы на Windows, macOS и Linux.
---------------------------
## 2. Функциональные требования
---------------------------
2.1. Ввод изображений
- Поддержка загрузки изображений в форматах: PNG, JPG, BMP, TIFF (через QFileDialog).
- Отображение изображения в графическом интерфейсе (QGraphicsView).

2.2. Обработка изображений
- Бинаризация (imagebinarization): преобразование в чёрно-белое изображение по порогу.
- Медианный фильтр (imagemedianfilter): подавление шума.
- Морфологические операции (imageopeningclosing): удаление мелких артефактов.
- Маркировка объектов (marking): выделение отдельных звёзд как компонентов связности.
- Выделение треугольников (trianglesonimage): поиск всех возможных треугольников между отмеченными точками.
- Классификация треугольников (trianglefromcatalogue, trianglescatalogue): сравнение с эталонными конфигурациями - идентификация звёзд.
- Повышение точности методом KNN (knn): повышение точности классификации на основе ближайших соседей.

2.3. Визуализация
- Отображение исходного изображения и результатов обработки (наложенные треугольники, маркеры звёзд).
- Интерактивный интерфейс с вкладками (QTabWidget): загрузка, обработка, результаты.
- Редактирование параметров обработки через GUI.

2.4. Вывод
- Вывод логов и отладочной информации в QTextEdit.
---------------------------
## 3. Технологический стек
-----------------------
3.1. Язык программирования: C++17
3.2. Фреймворк: Qt 6 (совместим с Qt 5)
3.3. Библиотеки Qt, используемые в проекте:
- QtWidgets — основной интерфейс
- QtCore — базовые типы, сигналы/слоты, файлы
- QtGui — QImage, QColor, QPainter, QPen, QPolygonF, QPixmap
- QtGui (QFont, QLocale, QRegularExpression)
3.4. Стандартные библиотеки C++:
- <algorithm> — для сортировки и поиска
- <cmath> — математические функции
- <iostream> — отладочный вывод
- <QVector> — динамические массивы
- <QPair> — хранение пар значений
- <QFile>, <QLocale> — работа с файлами

3.5. Структура проекта (источники)

Список всех исходных файлов проекта:

Основные:
- main.cpp
- mainwindow.h / mainwindow.cpp / mainwindow.ui
- main.moc (автоматически генерируется)

Классы обработки изображений:
- arrayofpixels.h/cpp
- imagebinarization.h/cpp
- imagemedianfilter.h/cpp
- imageopeningclosing.h/cpp
- marking.h/cpp
- trianglesonimage.h/cpp
- triangle.h/cpp
- trianglefromcatalogue.h/cpp
- trianglescatalogue.h/cpp
- starimage.h/cpp
- knn.h/cpp

Графические элементы:
- clickablepixmapitem.h/cpp — пользовательский QGraphicsItem для кликабельных изображений

3.6. Сборка и зависимость
- CMake 3.16+ (обязательно)
- Qt 5.15+ или Qt 6.0+
- Компилятор: GCC, Clang или MSVC (совместимые с C++17)
- Система сборки: CMake + Qt CMake модули (AUTOMOC, AUTOUIC, AUTORCC)

3.7. Автоматическая обработка Qt-файлов
- AUTOMOC: включено — автоматическая генерация moc-файлов для сигналов/слотов
- AUTOUIC: включено — автоматическая генерация кода из .ui-файлов
- AUTORCC: включено — автоматическая компиляция ресурсов (.qrc)
---------------------------
## 4. Требования к окружению разработки
------------------------------------
- ОС: Windows 10/11, macOS 10.15+, Ubuntu 20.04+
- Qt 6.5+ (рекомендуется) или Qt 5.15+
- CMake 3.16+
- Компилятор: GCC 9+, Clang 10+, MSVC 2019+
- IDE: Qt Creator или CLion (с поддержкой CMake и Qt)
------------------------------------
## 5. Примечания
-------------
- Файлы .moc, .ui, .rcc генерируются автоматически — не добавлять в репозиторий.
- Папки сборки (build/, cmake-build-*/ и т.п.) должны быть в .gitignore.
- Все пользовательские классы (triangle, knn и т.д.) реализованы без внешних зависимостей — только Qt и стандартная библиотека C++.
- Проект не использует сторонние библиотеки (OpenCV, Eigen и т.п.) — всё реализовано на Qt/C++.
